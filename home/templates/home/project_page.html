{% extends "base.html" %}
{% load wagtailimages_tags %}
{% load wagtailcore_tags %}
{% load static %}
{% block body_class %}template-homepage{% endblock %}

{% block extra_css %}
{% image menu_items.portfolio.background fill-1920x1080 as background %}
<style>
    body {
        background: url('{{background.url}}') no-repeat center center fixed;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="my-4">
        {{ page.name }}
    </h1>

    <div class="row">

        <div class="col-md-4">
            {% image page.logo fill-400x400-c100 class="img-fluid portfolio-logo"%}
        </div>

        <div class="col-md-8">
            <h2 class="my-3">{{ page.title }}: {{ page.start_date | date:"M Y" }}, {{ page.duration }} month{{page.duration|pluralize}}</h2>
            <h3>Responsibility</h3>
            <p>
                {{ page.responsibility| richtext }}
            </p>
            {% if page.project_url %}
            <h3>Link</h3>
            <p><a href="{{ page.project_url }}">{{ page.project_url }}</a></p>
            {% endif %}
            <h3>Technologies</h3>
            <p>
            <div class="row">
                {% for technology in page.technologies.all %}
                <div class="col-lg-2">
                    <a href="{% pageurl menu_items.portfolio %}?technology={{technology}}">
                        {% if technology.info.logo %}
                            {% image technology.info.logo fill-50x50-c100 class="mx-auto d-block technology-logo"%}
                        {% else %}
                            <img height="50" width="50" src="{% static 'img/default_technology.png' %}" class="mx-auto d-block technology-logo">
                        {% endif %}
                    </a>
                    <div class="text-center">
                        {{ technology }}
                    </div>
                </div>
                {% endfor %}
            </div>
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2>Project description</h2>
            {{ page.description | richtext}}
        </div>
    </div>
</div>
{% endblock %}
